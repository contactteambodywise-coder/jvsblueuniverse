<!-- =========================
     CURRENT BLUEPRINT
     DO NOT MODIFY
     ========================= -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>J&V’s Blue Universe – Starfield Home</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow: hidden;
  width: 100%;
  height: 100%;
}
canvas {
  position: fixed;
  inset: 0;
  z-index: 1;
}
</style>
</head>
<body>

<canvas id="space"></canvas>

<script>
/* ===== CANVAS SETUP ===== */
const canvas = document.getElementById("space");
const ctx = canvas.getContext("2d");
let w, h;
function resize(){ w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
window.addEventListener("resize", resize);
resize();

/* ===== STARFIELD ===== */
const stars = Array.from({length:800},()=>({
  x:Math.random()*w,
  y:Math.random()*h,
  z:Math.random()*0.8+0.2,
  a:Math.random()*0.8+0.2,
  r:Math.random()*1.5+0.5
}));

let px=0, py=0;
window.addEventListener("mousemove", e=>{
  px=(e.clientX-w/2)/100;
  py=(e.clientY-h/2)/100;
});

/* ===== SHOOTING STARS ===== */
let shootingStars=[];
function spawnShootingStar(){
  shootingStars.push({
    x:Math.random()*w,
    y:Math.random()*h,
    vx:(Math.random()*6-3),
    vy:(Math.random()*6-3),
    width:Math.random()*1.5+1,
    trail:30,
    color:"255,255,255"
  });
}
setInterval(()=>{ if(Math.random()<0.01) spawnShootingStar(); },50);

/* ===== COSMIC WORM ===== */
const worm={
  segments:25,
  positions:[],
  size:15,
  color:"rgba(0,150,255,0.9)",
  mistColor:"rgba(255,255,100,0.25)",
  vx:(Math.random()-0.5)*1.5,
  vy:(Math.random()-0.5)*1.5
};
for(let i=0;i<worm.segments;i++) worm.positions.push({x:w/2,y:h/2});

/* ===== TEXT: J&V's ===== */
const textObj={
  text:"J&V's",
  size:80,
  x:w/2,
  y:100,
  baseAlpha:0,
  pulseSpeed:0.02,
  alphaDirection:1,
  color:"rgba(100,150,255,ALPHA)"
};

function drawStars(){
  stars.forEach(s=>{
    ctx.globalAlpha=s.a*s.z;
    ctx.beginPath();
    ctx.arc(s.x+px*s.z,s.y+py*s.z,s.r*s.z,0,Math.PI*2);
    ctx.fillStyle="white";
    ctx.fill();
  });
}

function drawShootingStars(){
  shootingStars.forEach((s,i)=>{
    const g=ctx.createLinearGradient(s.x,s.y,s.x-s.vx*s.trail,s.y-s.vy*s.trail);
    g.addColorStop(0,`rgba(${s.color},0.9)`);
    g.addColorStop(1,`rgba(${s.color},0)`);
    ctx.strokeStyle=g;
    ctx.lineWidth=s.width;
    ctx.beginPath();
    ctx.moveTo(s.x,s.y);
    ctx.lineTo(s.x-s.vx*s.trail,s.y-s.vy*s.trail);
    ctx.stroke();
    s.x+=s.vx; s.y+=s.vy;
    if(s.x<-100||s.x>w+100||s.y<-100||s.y>h+100) shootingStars.splice(i,1);
  });
}

function updateWorm(){
  let head=worm.positions[0];
  worm.vx+=(Math.random()-0.5)*0.3;
  worm.vy+=(Math.random()-0.5)*0.3;
  worm.vx=Math.max(Math.min(worm.vx,1.5),-1.5);
  worm.vy=Math.max(Math.min(worm.vy,1.5),-1.5);
  head.x+=worm.vx; head.y+=worm.vy;
  for(let i=1;i<worm.segments;i++){
    const p=worm.positions[i-1], c=worm.positions[i];
    c.x+=(p.x-c.x)*0.2;
    c.y+=(p.y-c.y)*0.2;
  }
}

function drawWorm(){
  worm.positions.forEach((p,i)=>{
    const r=worm.size*(1-i*0.04);
    const g=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,r*2);
    g.addColorStop(0,worm.color);
    g.addColorStop(1,"rgba(0,0,0,0)");
    ctx.fillStyle=g;
    ctx.beginPath();
    ctx.arc(p.x,p.y,r*2,0,Math.PI*2);
    ctx.fill();
  });
}

function drawText(){
  textObj.baseAlpha+=textObj.pulseSpeed*textObj.alphaDirection;
  if(textObj.baseAlpha>1){textObj.baseAlpha=1;textObj.alphaDirection=-1;}
  if(textObj.baseAlpha<0){textObj.baseAlpha=0;textObj.alphaDirection=1;}
  ctx.font=`bold ${textObj.size}px sans-serif`;
  ctx.fillStyle=textObj.color.replace("ALPHA",textObj.baseAlpha);
  ctx.textAlign="center";
  ctx.fillText(textObj.text,textObj.x,textObj.y);
}

function animate(){
  ctx.clearRect(0,0,w,h);
  drawStars();
  drawShootingStars();
  updateWorm();
  drawWorm();
  drawText();
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>