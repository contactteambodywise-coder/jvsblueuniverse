<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>J&V’s Blue Universe – Starfield Home</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow: hidden;
  width: 100%;
  height: 100%;
}

canvas {
  position: fixed;
  inset: 0;
  z-index: 1;
}
</style>
</head>
<body>

<canvas id="space"></canvas>

<script>
/* ===== CANVAS SETUP ===== */
const canvas = document.getElementById("space");
const ctx = canvas.getContext("2d");
let w, h;
function resize() {
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

/* ===== STARFIELD ===== */
const stars = Array.from({length: 800}, () => ({
  x: Math.random()*w,
  y: Math.random()*h,
  z: Math.random()*0.8 + 0.2,
  a: Math.random()*0.8 + 0.2,
  r: Math.random()*1.5 + 0.5
}));

let px = 0, py = 0;
window.addEventListener("mousemove", e => { px = (e.clientX - w/2)/100; py = (e.clientY - h/2)/100; });
window.addEventListener("deviceorientation", e => { px = (e.gamma||0)/45*100; py = (e.beta||0)/45*100; });

/* ===== SHOOTING STARS ===== */
let shootingStars = [];
function spawnShootingStar() {
  shootingStars.push({
    x: Math.random()*w,
    y: Math.random()*h,
    vx: (Math.random()*6-3),
    vy: (Math.random()*6-3),
    width: Math.random()*1.5+1,
    trail: 30,
    color: "255,255,255"
  });
}
setInterval(() => { if(Math.random()<0.01) spawnShootingStar(); }, 50);

/* ===== COSMIC WORM ===== */
const worm = {
  x: Math.random()*w,
  y: Math.random()*h,
  size: 40 + Math.random()*30,
  color: "rgba(0,150,255,0.9)",
  mistColor: "rgba(255,255,100,0.3)",
  vx: (Math.random()-0.5)*1.5,
  vy: (Math.random()-0.5)*1.5
};

/* ===== DRAW FUNCTIONS ===== */
function drawStars() {
  stars.forEach(s => {
    ctx.globalAlpha = s.a * s.z;
    ctx.beginPath();
    ctx.arc(s.x + px*s.z, s.y + py*s.z, s.r*s.z, 0, Math.PI*2);
    ctx.fillStyle = "white";
    ctx.fill();
  });
}

function drawShootingStars() {
  shootingStars.forEach((s,i) => {
    const tail = s.trail;
    const grad = ctx.createLinearGradient(s.x,s.y,s.x-s.vx*tail,s.y-s.vy*tail);
    grad.addColorStop(0, `rgba(${s.color},0.9)`);
    grad.addColorStop(0.3, `rgba(${s.color},0.5)`);
    grad.addColorStop(1, `rgba(${s.color},0)`);
    ctx.strokeStyle = grad;
    ctx.lineWidth = s.width;
    ctx.lineCap = "round";
    ctx.beginPath();
    ctx.moveTo(s.x,s.y);
    ctx.lineTo(s.x-s.vx*tail, s.y-s.vy*tail);
    ctx.stroke();
    s.x += s.vx;
    s.y += s.vy;
    if(s.x<-100 || s.x>w+100 || s.y<-100 || s.y>h+100) shootingStars.splice(i,1);
  });
}

function drawWorm() {
  // Radial gradient for yellow mist trail
  const grad = ctx.createRadialGradient(worm.x, worm.y, 0, worm.x, worm.y, worm.size*2);
  grad.addColorStop(0, worm.color);
  grad.addColorStop(0.6, worm.mistColor);
  grad.addColorStop(1, "rgba(0,0,0,0)");
  
  ctx.beginPath();
  ctx.arc(worm.x, worm.y, worm.size*2, 0, Math.PI*2);
  ctx.fillStyle = grad;
  ctx.fill();

  // Core circle
  ctx.beginPath();
  ctx.arc(worm.x, worm.y, worm.size, 0, Math.PI*2);
  ctx.fillStyle = worm.color;
  ctx.fill();
}

function updateWorm() {
  // Wiggle motion
  worm.vx += (Math.random()-0.5)*0.2;
  worm.vy += (Math.random()-0.5)*0.2;

  // Clamp speed
  worm.vx = Math.max(Math.min(worm.vx,1.5),-1.5);
  worm.vy = Math.max(Math.min(worm.vy,1.5),-1.5);

  // Move
  worm.x += worm.vx;
  worm.y += worm.vy;

  // Bounce edges
  if(worm.x < 0) { worm.x = 0; worm.vx *= -1; }
  if(worm.x > w) { worm.x = w; worm.vx *= -1; }
  if(worm.y < 0) { worm.y = 0; worm.vy *= -1; }
  if(worm.y > h) { worm.y = h; worm.vy *= -1; }
}

/* ===== ANIMATION LOOP ===== */
function animate() {
  ctx.clearRect(0,0,w,h);
  drawStars();
  drawShootingStars();
  updateWorm();
  drawWorm();
  requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>